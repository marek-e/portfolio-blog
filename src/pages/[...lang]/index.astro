---
import Navbar from '@/components/astro/Navbar.astro';
import Hero from '@/components/astro/Hero.astro';
import AboutSection from '@/components/astro/AboutSection.astro';
import TimelineSection from '@/components/astro/TimelineSection.astro';
import FeaturedProjects from '@/components/astro/FeaturedProjects.astro';
import ContactSection from '@/components/astro/ContactSection.astro';
import Footer from '@/components/astro/Footer.astro';
import { BackToTop } from '@/components/react/BackToTop';
import Layout from '@/layouts/Layout.astro';
import { getTranslations, defaultLang } from '@/i18n';

export function getStaticPaths() {
  return [
    { params: { lang: undefined } }, // / → French (default)
    { params: { lang: 'en' } as const }, // /en/ → English
  ];
}

const lang = Astro.params.lang ?? defaultLang;
const t = getTranslations(lang);
---

<Layout title={t.hero.pageTitle} description={t.hero.pageDescription}>
  <Navbar />
  <main>
    <Hero />
    <AboutSection />
    <TimelineSection />
    <FeaturedProjects />
    <ContactSection />
  </main>
  <Footer />
  <BackToTop client:load />
</Layout>
