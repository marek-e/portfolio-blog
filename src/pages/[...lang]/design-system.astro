---
import Layout from '@/layouts/Layout.astro';
import Navbar from '@/components/astro/Navbar.astro';
import Footer from '@/components/astro/Footer.astro';
import { DesignSystemPreview } from '@/components/react/DesignSystemPreview';
import { getTranslations, defaultLang } from '@/i18n';

export function getStaticPaths() {
  return [
    { params: { lang: undefined } }, // / → French (default)
    { params: { lang: 'en' } as const }, // /en/ → English
  ];
}

const lang = Astro.params.lang ?? defaultLang;
const t = getTranslations(lang);
---

<Layout title={t.designSystem.pageTitle} description={t.designSystem.pageDescription}>
  <Navbar />
  <main class="container mx-auto max-w-5xl px-4 pt-32 pb-12">
    <header class="mb-12 space-y-4">
      <h1 class="text-4xl font-bold tracking-tight">{t.designSystem.title}</h1>
      <p class="text-muted-foreground text-lg">
        {t.designSystem.description}
      </p>
    </header>

    <DesignSystemPreview client:load lang={lang} />
  </main>
  <Footer />
</Layout>
